
일반적으로 주문, 상품, 발송은 다음의 관계를 갖는다. 

*주문*이란 여러 상품에 대한 한 번의 결제를 말한다. 부분 결제가 가능한 마켓/몰은 없다.  

하나의 *주문*은 다수의 *상품*을 포함한다. 고객이 장바구니에 다수의 상품을 담아두었다가 다시 일부만 선택하여 새로운 주문을 생성한다.

하나의 *주문*은 일반적으로 한 번에 *발송*되지만, 경우에 따라 여러번으로 나뉘어 발송될 수 있다.



## 11번가 API

각 주문상품은 별개의 주문데이터로 리턴된다. 각 데이터는 같은 주문번호 ordNo 를 갖고, 서로 다른 주문상품순번 ordPrdSeq 으로 구분된다.  
한 주문 내의 상품은 배송특성에 따라 서로 다른 배송번호 dlvNo 로 구분된다.  
묶음상품일련번호 bndlDlvSeq 도 있는데, 배송번호과 같은 성격으로 보이며, 정확한 차이는 더 살펴봐야.. 배송처리 시에는 배송번호가 사용되고, 묶음상품일련번호는 어디에 쓰이는지..

발송처리 /reqdelivery 시에는 하나의 배송번호 dlvNo 에 대해서 이에 속한 모든 주문/상품을 처리한다.

부분발송 /reqdelivery?partDlvYn=Y 시에는 배송번호 dlvNo와 주문번호 ordNo을 지정하고, 다수의 주문상품순번 ordPrdSeq를 지정한다.

수량분리발송 /reqdelivery/... 하면, 새로운 배송번호가 생성된다.

발송처리 후, 송장번호를 변경할 수 없다.



## 쿠팡 API

고객이 주문을 완료하면 배송특성에 따라 여러 주문으로 분리된다. 각 주문은 유니크한 주문번호 orderId 와 배송번호 shipmentBoxId 를 갖는다. 즉, 주문번호와 배송번호의 성격이 거의 같다고 볼 수 있다.  
각 주문상품은 하나의 주문데이터 내에 array ordeItems 으로서 리턴된다. 각 주문상품은 옵션ID vendorItemId 으로 구분된다.

발송처리 /invoices 시에는 하나의 배송번호 shipmentBoxId 에 대해서 이에 속한 모든 주문/상품을 처리한다.

부분발송 /invoices&splitShipping=true 시에는 배송번호 shipmentBoxId와 함께, 다수의 옵션ID vendorItemId를 지정한다. 그러면 해당 옵션들에 대하여 새로운 배송번호가 발급된다.  
발송하지 않는 옵션에 대해서는 출고예정일 estimatedShippingDate 을 입력할 수 있다.

일부 수량만 부분발송할 수 없다.

송장번호변경 /updateInvoices